<!DOCTYPE html>
<html lang="en">
<head>

	<% include head %>

</head>
<body>
	
	<% include menu %>

	<div class="app_body">

		<h1>Edit Template</h1>

		<div class="panel">

			<code>ID: <%= template.id %></code>
			<h2><%= template.name %></h2>

			<form method="post">

				<script>
				
					var fields = <%- JSON.stringify(template.fields) %>;

				</script>

				<input type="hidden" name="id" value="<%= template.id %>">
				<input type="hidden" name="fields">

				<input type="text" name="name" value="<%= template.name %>">

				<br><br>

				<h2>Fields</h2>

				<div id="add_field" class="btn">+</div> <br><br>

				<div id="fields" style="text-indent: 25px;">

					<% for (const field of Object.keys(template.fields)) { %>
					
						<div><input type="text" value="<%- field %>"> <textarea><%- template.fields[field] %></textarea> <span class="btn delete_field" style="text-indent: 0;">Delete</span></div>

					<% } %>

				</div>

				<br>

				<input type="submit" value="Save Changes" class="btn">

			</form>

			<form action="?delete" method="post"><input type="submit" value="Delete Template" class="btn"></form>

		</div>
		
	</div>

</body>
</html>
